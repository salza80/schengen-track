%script
  != "var country = #{@country_options.html_safe};"

= form_for @visit do |f|
  - if @visit.errors.any?
    #error_explanation
      %h2= "#{pluralize(@visit.errors.count, "error")} prohibited this visit from being saved:"
      %ul
        - @visit.errors.full_messages.each do |msg|
          %li= msg

  .field
    = f.label :entry_date
    = f.date_select :entry_date
  .field
    = f.label :exit_date
    = f.date_select :exit_date
  .field
    = f.label "Continent"
    = select_tag "Continent", options_from_collection_for_select(@continent, "id", "name", @continent_default_id)
  .field
    = f.label :country_id
    = f.collection_select(:country_id,  Country.where(continent_id: @continent_default_id), :id, :name, include_blank: true)
    / = f.select :country_id, options_from_collection_for_select(@countries, "id", "name")
  .actions
    = f.submit 'Save'
