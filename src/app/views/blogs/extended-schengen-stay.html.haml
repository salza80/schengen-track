- title t('blog.extendedTravel.title')
- content_for :meta_description, t('blog.extendedTravel.introduction').truncate(160)

.row
  .col-lg-3{role: "complementary"}
    = render 'blogs/sidebar'
  
  .col-lg-9{role: "main"}
    .blog-article
      %nav.breadcrumbs{"aria-label" => "Breadcrumb"}
        %ol
          %li
            = link_to "Home", root_path(locale: I18n.locale)
          %li
            = link_to t('common.blog'), blog_index_path(locale: I18n.locale)
          %li.active
            = t('blog.extendedTravel.title')
      
      %article
        %header.article-header
          %h1.article-title= t('blog.extendedTravel.title')
          .article-meta
            .meta-item
              %i.fa.fa-user
              %span Schengen Calculator
            .meta-item
              %i.fa.fa-calendar
              %time{datetime: "2024-01-15"} January 15, 2024
            .meta-item
              %i.fa.fa-clock-o
              %span 8 min read
        
        .article-hero
          = image_tag("switzerland.jpg", class: "hero-image", alt: "Swiss Alps mountain landscape - Extended European travel guide for maximizing your 90 days in Schengen Area", loading: "eager")
        
        .article-content
          %section.intro-section
            %p.lead= t('blog.extendedTravel.introduction')
          
          %section
            %h2= t('blog.extendedTravel.understandingTitle')
            %p= t('blog.extendedTravel.understandingContent')
            
            .info-box
              %h4
                %i.fa.fa-info-circle
                Key Point: The 90/180 Rolling Rule
              %p= t('blog.extendedTravel.understanding90Content')
          
          %section
            %h2= t('blog.extendedTravel.nearbyTitle')
            %p= t('blog.extendedTravel.nearbyContent')
            
            %ul.country-list
              - t('blog.extendedTravel.countries').each do |country|
                %li
                  %strong= country[:name] + ":"
                  = country[:description]
            
            %p= t('blog.extendedTravel.accessibilityContent')
            
            .figure
              = image_tag("schengen-countries-map-2025.png", class: "img-fluid", alt: "2025 Schengen Area map showing all 29 member countries including Bulgaria, Romania, and neighboring non-Schengen European countries", loading: "lazy")
              %figcaption
                Schengen Area and surrounding non-Schengen countries.
                %br
                %small
                  Map by Evan Centanni,
                  = link_to "Political Geography Now", "https://www.polgeonow.com/2020/03/what-is-schengen-list-countries-map.html", target: "_blank", rel: "noopener"
                  \. License:
                  = link_to "CC BY-SA", "https://creativecommons.org/licenses/by-sa/3.0/deed.en", target: "_blank", rel: "noopener"
          
          %section
            %h2= t('blog.extendedTravel.maximizingTitle')
            %p= t('blog.extendedTravel.maximizingContent')
            
            .strategy-steps
              = t('blog.extendedTravel.maximizingContentContinued').html_safe
            
            .tip-box
              %h4
                %i.fa.fa-lightbulb-o
                Pro Tip
              %p= t('blog.extendedTravel.repeatPatternContent')
          
          %section.cta-section
            .cta-box
              %h3
                %i.fa.fa-calculator
                Ready to Plan Your Extended European Adventure?
              %p= t('blog.extendedTravel.schengenButtonIntro')
              = link_to visits_path(locale: I18n.locale), class: "cta-button" do
                = t('blog.extendedTravel.schengenButtonTitle')
                %i.fa.fa-arrow-right
              %p.mt-3
                = t('blog.extendedTravel.schengenAboutIntro')
                = link_to t('blog.extendedTravel.schengenAboutLink'), about_path(locale: I18n.locale), class: "text-link"
          
          %section.conclusion
            %h2= t('blog.extendedTravel.conclusionTitle')
            %p= t('blog.extendedTravel.conclusionContent')
        
        %footer.article-footer
          .share-section
            %h4 Share this article
            .share-buttons
              %a.share-btn.x-twitter{href: "#", target: "_blank", rel: "noopener", data: {share: "twitter"}}
                %i.fa-brands.fa-x-twitter
              %a.share-btn.facebook{href: "#", target: "_blank", rel: "noopener", data: {share: "facebook"}}
                %i.fa-brands.fa-facebook
              %a.share-btn.linkedin{href: "#", target: "_blank", rel: "noopener", data: {share: "linkedin"}}
                %i.fa-brands.fa-linkedin

:javascript
  // Structured data for SEO
  const structuredData = {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "#{t('blog.extendedTravel.title')}",
    "image": "#{image_url('switzerland.jpg')}",
    "author": {
      "@type": "Organization",
      "name": "Schengen Calculator"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Schengen Calculator",
      "logo": {
        "@type": "ImageObject",
        "url": "#{image_url('med.png')}"
      }
    },
    "datePublished": "2024-01-15",
    "dateModified": "2024-01-15",
    "description": "#{t('blog.extendedTravel.introduction').truncate(160)}"
  };
  
  const script = document.createElement('script');
  script.type = 'application/ld+json';
  script.text = JSON.stringify(structuredData);
  document.head.appendChild(script);

  // Social media sharing functionality
  document.addEventListener('DOMContentLoaded', function() {
    const pageUrl = encodeURIComponent(window.location.href);
    const pageTitle = encodeURIComponent(document.title);
    
    // Share button click handlers
    document.querySelectorAll('.share-btn').forEach(function(btn) {
      btn.addEventListener('click', function(e) {
        e.preventDefault();
        const platform = this.getAttribute('data-share');
        let shareUrl = '';
        
        switch(platform) {
          case 'twitter':
            shareUrl = `https://twitter.com/intent/tweet?url=${pageUrl}&text=${pageTitle}`;
            break;
          case 'facebook':
            shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${pageUrl}`;
            break;
          case 'linkedin':
            // LinkedIn's current sharing URL
            shareUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${pageUrl}`;
            break;
        }
        
        if (shareUrl) {
          // Open in popup window for better UX
          window.open(shareUrl, 'share-dialog', 'width=600,height=600');
        }
      });
    });
  });